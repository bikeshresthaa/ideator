<div class="max-w-screen-xl mx-auto px-4 py-6">

  <!-- Header -->
<div class="flex flex-col items-center mb-6 gap-4">
  <!-- Centered Modal Trigger -->
  <div data-controller="modal" class="flex justify-center w-full">
    <button
      data-modal-target="default-modal"
      data-modal-toggle="default-modal"
      type="button"
      class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-6 py-2.5 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
    >
      + Add New Idea
    </button>

      <!-- Modal -->
      <div
        id="default-modal"
        tabindex="-1"
        aria-hidden="true"
        class="hidden fixed inset-0 z-50 flex items-center justify-center overflow-y-auto bg-black/40"
      >
        <div class="relative w-full max-w-2xl p-4">
          <div class="bg-white rounded-lg shadow dark:bg-gray-700">

            <%= simple_form_for Idea.new, data: { action: "submit->modal#hideModal" } do |f| %>

              <!-- Modal Header -->
              <div class="flex items-center justify-between p-4 border-b dark:border-gray-600">
                <h3 class="text-lg font-semibold text-gray-900 dark:text-white">
                  Add New Idea
                </h3>
                <button
                  type="button"
                  data-modal-hide="default-modal"
                  class="text-gray-400 hover:bg-gray-200 hover:text-gray-900 rounded-lg p-2 dark:hover:bg-gray-600 dark:hover:text-white"
                >
                  ✕
                </button>
              </div>

              <!-- Modal Body -->
              <div class="p-4 space-y-4">
                <%= f.input :description, input_html: { rows: 4, class: "text-gray-800" } %>
                <%= f.input :author, input_html: { class: "text-gray-800" } %>
              </div>

              <!-- Modal Footer -->
              <div class="flex justify-end gap-3 p-4 border-t dark:border-gray-600">
                <button
                  type="button"
                  data-modal-hide="default-modal"
                  class="text-gray-700 bg-gray-200 hover:bg-gray-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-gray-600 dark:text-white"
                >
                  Cancel
                </button>

                <%= f.submit "Submit",
                  class: "text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-blue-600 dark:hover:bg-blue-700"
                %>
              </div>

            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Ideas Grid -->
  <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
    <% @ideas.each do |idea| %>
      <div class="bg-white rounded-lg shadow hover:shadow-md transition dark:bg-gray-800">
        <div class="p-6 flex flex-col h-full">
          <p class="text-gray-900 text-base font-medium mb-2 dark:text-white">
            <%= idea.description %>
          </p>

          <span class="text-sm text-gray-500 mb-4 dark:text-gray-400">
            — <%= idea.author %>
          </span>

          <div class="mt-auto flex gap-2">
            <%= link_to "Revise",
              edit_idea_path(idea),
              class: "text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-blue-600"
            %>

            <%= button_to "Delete",
              idea_path(idea),
              method: :delete,
              class: "text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-red-600",
              form: { data: { turbo_confirm: "Are you sure?" } }
            %>
          </div>
        </div>
      </div>
    <% end %>
  </div>

  <!-- Pagination -->
  <% if @pagy.pages > 1 %>
    <div class="mb-2 mt-8 flex justify-center">
      <%== pagy_nav(@pagy) %>
    </div>
  <% end %>

</div>
